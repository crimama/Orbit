---
name: simplify
description: μ½”λ“ λ‹¨μν™” μ›ν¬ν”λ΅μ° β€” λ³µμ΅λ„ κ°μ† + μ»¨λ²¤μ… μ •λ ¬ + κΈ°λ¥ λ³΄μ΅΄ κ²€μ¦ + λ¦¬ν©ν† λ§ λ…ΈνΈ μƒμ„±
allowed-tools:
  - Read
  - Write
  - Edit
  - Glob
  - Bash
  - Grep
---

# /simplify

**μ‚¬μ©λ²•**: `/simplify [target]`

| Target | μ„¤λ… |
|--------|------|
| `<file-path>` | νΉμ • νμΌ λ‹¨μν™” |
| `<directory>` | λ””λ ‰ν† λ¦¬ λ‚΄ λ¨λ“  `.ts`/`.tsx` νμΌ λ‹¨μν™” |
| `recent` | μµκ·Ό 5μ»¤λ°‹μ—μ„ λ³€κ²½λ νμΌ λ€μƒ (`git diff`) |
| (μ—†μ) | κΈ°μ΅΄ λ¦¬ν©ν† λ§ λ…ΈνΈ λ©λ΅ μ¶λ ¥ ν›„ μΆ…λ£ |

κΈ°μ΅΄ λ¦¬ν©ν† λ§ λ…ΈνΈ:

```
!find skill_graph/refactor -name '*.md' ! -name '_TEMPLATE.md' 2>/dev/null | sort!
```

## λ™μ‘

### 1. λ€μƒ νμΌ μμ§‘

1. `$ARGUMENTS`μ—μ„ target νμ‹±
   - μΈμ μ—†μ β†’ κΈ°μ΅΄ `skill_graph/refactor/` λ…ΈνΈ λ©λ΅ μ¶λ ¥ ν›„ μΆ…λ£
   - `recent` β†’ `git diff --name-only HEAD~5..HEAD -- '*.ts' '*.tsx'` μ‹¤ν–‰
   - νμΌ κ²½λ΅ β†’ ν•΄λ‹Ή νμΌλ§
   - λ””λ ‰ν† λ¦¬ β†’ `Glob`μΌλ΅ `**/*.ts` + `**/*.tsx` μμ§‘ (`_TEMPLATE.md`, `*.test.*`, `*.spec.*` μ μ™Έ)
2. λ€μƒμ΄ 5κ° νμΌ μ΄κ³Ό μ‹ β†’ μ°μ„ μμ„ μ•λ‚΄ ν›„ μ‚¬μ©μ ν™•μΈ μ”μ²­

### 2. λ¶„μ„ (Before μ¤λƒ…μƒ·)

κ° λ€μƒ νμΌμ— λ€ν•΄ λ‹¤μ 6κ°€μ§€ μ°¨μ›μ„ μ κ²€:

| μ°¨μ› | νƒμ§€ κΈ°μ¤€ |
|------|----------|
| **λ³µμ΅λ„** | 3λ‹¨κ³„ μ΄μƒ μ¤‘μ²© if/for/while, μ¤‘μ²© μ‚Όν•­ μ—°μ‚°μ, 50μ¤„ μ΄κ³Ό ν•¨μ |
| **μ¤‘λ³µ** | λ™μΌ ν¨ν„΄ 3ν μ΄μƒ λ°λ³µ, dead code (unreachable), λ―Έμ‚¬μ© λ³€μ |
| **λ„¤μ΄λ°** | μ»΄ν¬λ„νΈ νμΌμ non-PascalCase export, μ„λ²„ νμΌμ non-camelCase export, 1-2κΈ€μ λ³€μλ…(λ£¨ν”„ λ³€μ μ μ™Έ) |
| **νƒ€μ… μ•μ „** | `any` νƒ€μ… μ‚¬μ©, λ¶ν•„μ”ν• `as` λ‹¨μ–Έ, λμ¨ν• `== null` |
| **ν‘ν„ λ…ν™•μ„±** | `\|\|` λ€μ‹  `??` μ‚¬μ© κ°€λ¥, λ§¤μ§ λ„λ²„, `!condition ? a : b` λ°μ „ κ°€λ¥ |
| **μ„ν¬νΈ μ„μƒ** | λ―Έμ‚¬μ© import, μ¤‘λ³µ import κ²½λ΅ |

λ¶„μ„ κ²°κ³Όλ¥Ό κ°μ„  ν•­λ© λ©λ΅μΌλ΅ μ •λ¦¬ν•κ³  μ‚¬μ©μμ—κ² μ”μ•½ λ³΄κ³ :

```
π“ λ¶„μ„ κ²°κ³Ό: src/server/pty/ptyManager.ts
  - [λ³µμ΅λ„] 0κ±΄
  - [μ¤‘λ³µ] 1κ±΄: onData/onExit λ¦¬μ¤λ„ ν•΄μ  ν¨ν„΄ μ¤‘λ³µ
  - [λ„¤μ΄λ°] 0κ±΄
  - [νƒ€μ…] 0κ±΄
  - [ν‘ν„] 1κ±΄: λ§¤μ§ λ„λ²„ β†’ μƒμ μ¶”μ¶ κ°€λ¥
  - [μ„ν¬νΈ] 0κ±΄
  ν•©κ³„: 2κ±΄ κ°μ„  κ°€λ¥
```

### 3. λ‹¨μν™” μ‹¤ν–‰ (After)

- **Demand Elegance μ›μΉ™ μ μ©**: κ° κ°μ„  ν•­λ©μ— λ€ν•΄ "λ” μ°μ•„ν• λ°©λ²•μ΄ μλ”κ°€?" μλ¬Έ
- **Simplicity First μ›μΉ™ μ¤€μ**: κ³Όμ‰ μ¶”μƒν™” κΈμ§€ β€” λ‹¨μΒ·λ…λ°±ν• κ³³μ€ κ·Έλ€λ΅ λ‘”λ‹¤
- **κΈ°λ¥ λ³΄μ΅΄ ν•„μ**: μ™Έλ¶€ μΈν„°νμ΄μ¤(export μ‹κ·Έλ‹μ², API κ³„μ•½)λ¥Ό λ³€κ²½ν•μ§€ μ•λ”λ‹¤
- λ³€κ²½μ€ μµμ† λ‹¨μ„λ΅ μ μ© β€” ν• μ°¨μ›μ”© μμ°¨ μ μ© ν›„ μ¤‘κ°„ κ²€μ¦

### 4. κ²€μ¦

λ³€κ²½ μ™„λ£ ν›„ λ°λ“μ‹ λ‹¤μμ„ μ‹¤ν–‰:

```bash
# 1. TypeScript νƒ€μ… μ²΄ν¬
npx tsc --noEmit

# 2. ESLint (boundary rules ν¬ν•¨)
npm run lint

# 3. ν…μ¤νΈ (μ΅΄μ¬ μ‹)
npm test
```

- κ²€μ¦ μ‹¤ν¨ μ‹ β†’ ν•΄λ‹Ή λ³€κ²½ λ΅¤λ°±, μ‹¤ν¨ μ›μΈ λ¶„μ„ ν›„ μ¬μ‹λ„ λλ” ν¬κΈ°
- λ¨λ“  κ²€μ¦ ν†µκ³Ό ν›„μ—λ§ μ™„λ£ μ²λ¦¬

### 5. λ¦¬ν©ν† λ§ λ…ΈνΈ μƒμ„±

`skill_graph/refactor/_TEMPLATE.md` κΈ°λ°μΌλ΅ λ…ΈνΈ μƒμ„±:
- κ²½λ΅: `skill_graph/refactor/YYYY-MM-DD_simplify-<short-desc>.md`
- `## λ™κΈ°`: "μ½”λ“ λ‹¨μν™” β€” /simplify μ»¤λ§¨λ“λ΅ μ‹¤ν–‰"
- `## Before / After`: ν•µμ‹¬ λ³€κ²½μ μ½”λ“ μ¤λ‹ν« (diff ν•μ‹)
- `## λ³€κ²½ λ‚΄μ—­`: νμΌλ³„ λ³€κ²½ λ‚΄μ© ν…μ΄λΈ”
- `## κ²€μ¦`: tsc/lint/test κ²°κ³Ό κΈ°λ΅
- `## κ΄€λ ¨ λ…ΈνΈ`: `/link-notes`λ΅ μλ™ μ—°κ²° μ‹λ„

### 6. μΈλ±μ¤ κ°±μ‹ 

`skill_graph/index.md`μ `refactor/` μ„Ήμ…μ— μƒ λ…ΈνΈ μ¶”κ°€:
- ν‚¤μ›λ“ β†’ λ¬Έμ„ λ§¤ν•‘ ν…μ΄λΈ” κ°±μ‹ 
- νƒ€μ„λΌμΈ κ°±μ‹ 

## κ·μΉ™

- **κΈ°λ¥ λ³΄μ΅΄μ΄ μµμ°μ„ ** β€” μ™Έλ¶€ μΈν„°νμ΄μ¤(export, API κ³„μ•½)λ¥Ό λ³€κ²½ν•μ§€ μ•λ”λ‹¤
- **κ³Όμ‰ μ„¤κ³„ κΈμ§€** β€” λ‹¨μΒ·λ…λ°±ν• μ½”λ“λ” κ±΄λ“λ¦¬μ§€ μ•λ”λ‹¤ (Demand Eleganceλ” Balanced)
- **κ²€μ¦ μ—†μ΄ μ™„λ£ κΈμ§€** β€” tsc + lint ν•„μ, ν…μ¤νΈ μ΅΄μ¬ μ‹ npm test ν•„μ
- **ν• λ²μ— ν•λ‚μ μ°¨μ›** β€” μ—¬λ¬ μΆ…λ¥μ λ³€κ²½μ„ ν•κΊΌλ²μ— μ„μ§€ μ•λ”λ‹¤ (μ¶”μ  κ°€λ¥μ„±)
- λ°κ²¬λ κµν›μ€ `/lessons add`λ΅ κΈ°λ΅
- 5κ° νμΌ μ΄κ³Ό λ€μƒμ€ μ‚¬μ©μ ν™•μΈ ν›„ μ§„ν–‰
- `_TEMPLATE.md`, `*.test.*`, `*.spec.*`, `node_modules/`, `.next/` μ μ™Έ
